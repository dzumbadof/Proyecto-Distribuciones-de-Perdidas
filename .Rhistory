rownames(tabla) <- nombres
View(tabla)
medidas <- function(x){
r <- summary(x) %>% as.vector()
temp <- data.frame(c(r, sd(x), IQR(x),skewness(x), kurtosis(x)))
return(temp)
}
nombres <- c("Mínimo",
"Primer cuartil",
"Mediana",
"Media",
"Tercer cuartil",
"Máximo",
"Desviación estándar",
"Rango intercuartil",
"Asimetría",
"Curtosis")
tabla <- medidas(close_amount)
rownames(tabla) <- nombres
colnames(tabla) <- "Valor"
tabla %>%
kbl(caption = "Medidas de resumen") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
medidas <- function(x){
r <- summary(x) %>% as.vector()
temp <- data.frame(c(r, sd(x), IQR(x),skewness(x), kurtosis(x)))
return(temp)
}
nombres <- c("Mínimo",
"Primer cuartil",
"Mediana",
"Media",
"Tercer cuartil",
"Máximo",
"Desviación estándar",
"Rango intercuartil",
"Asimetría",
"Curtosis")
tabla <- medidas(close_amount)
rownames(tabla) <- nombres
tabla %>%
kbl(caption = "Medidas de resumen") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kbl(caption = "Medidas de resumen", col.names = F) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
medidas <- function(x){
r <- summary(x) %>% as.vector()
temp <- data.frame(c(r, sd(x), IQR(x),skewness(x), kurtosis(x)))
return(temp)
}
nombres <- c("Mínimo",
"Primer cuartil",
"Mediana",
"Media",
"Tercer cuartil",
"Máximo",
"Desviación estándar",
"Rango intercuartil",
"Asimetría",
"Curtosis")
tabla <- medidas(close_amount)
rownames(tabla) <- nombres
tabla %>%
kbl(caption = "Medidas de resumen", col.names = F) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
ggplot(base, aes(x=incident_date)) +
stat_count(geom=bar, aes(y=..count..))
library(ggplot2)
ggplot(base, aes(x=incident_date)) +
stat_count(geom=bar, aes(y=..count..))
ggplot(base, aes(x=incident_date)) +
stat_count(geom='bar', aes(y=..count..))
ggplot(base, aes(x=year(incident_date))) +
stat_count(geom='bar', aes(y=..count..))
ggplot(base, aes(xincident_date)) +
stat_count(geom='bar', aes(y=..count..))
ggplot(base, aes(incident_date)) +
stat_count(geom='bar', aes(y=..count..))
datos <- year(incident_date)
datos <- year(incident_date)
datos <- year(incident_date[1])
datos <- year(incident_date[1])
datos
datos <- year(incident_date[1])
incident_date[1]
date_received
date_received[1]
datos <- year(date_received[1])
datos
ggplot(aes(datos)) +
stat_count(geom='bar', aes(y=..count..))
datos <- year(date_received)
ggplot(aes(datos)) +
stat_count(geom='bar', aes(y=..count..))
ggplot(aes(datos)) +
stat_count(geom='bar', aes(y=..count..))
ggplot(datos, aes(datos)) +
stat_count(geom='bar', aes(y=..count..))
ggplot(base, aes(date_received)) +
stat_count(geom='bar', aes(y=..count..))
date_received
ggplot(base, aes(date_received)) +
stat_count(geom='bar', aes(y=..count..))
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..)) + scale_x_continuous(limits = c(min(year(date_received)), max(year(date_received))))
min(year(date_received))
in(year(date_received))
year(date_received)
min(year(date_received))
max(year(date_received))
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))+ scale_x_continuous(limits = c(min(year(date_received)), max(year(date_received))))
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))+ scale_x_continuous(limits = c(min(year(date_received)), max(year(date_received))))
a <- min(year(date_received))
b <- max(year(date_received)))
b <- max(year(date_received))
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))+
scale_x_discrete(limits = c(a,b))
b
library(readxl)
library(kableExtra)
library(readr)
library(dplyr)
library(janitor) # función clean_names()
library(magrittr) # función %<>%
library(stringr) # función str_replace
library(lubridate)
library(moments) # funciones skewness y kurtosis
library(ggplot2)
# Se carga la base
base <- read_csv("tsa_claims.csv", ) %>%
na.omit() %>% # Se eliminan NA's
clean_names()  # Se pasan todos los nombres a minúculas
# Se ajusta el formato de las variables numéricas de montos y de fecha
base %<>% mutate_at(c('close_amount', 'claim_amount'),
funs(str_remove(., "\\$"))) %>%
mutate_at(c('close_amount', 'claim_amount'), funs(str_remove(., ";")))  %>%   mutate_at(c('close_amount', 'claim_amount'), funs(as.numeric(.))) %>% mutate(date_received = dmy(date_received))
attach(base) # Se fijan las variables de la tabla
tabla <- read_excel("Archivos auxiliares/Ordenamiento de la literatura.xlsx")
tabla %>%
kbl(caption = "Ordenamiento de la literautra") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
rm(tabla)
medidas <- function(x){
r <- summary(x) %>% as.vector()
temp <- data.frame(c(r, sd(x), IQR(x),skewness(x), kurtosis(x)))
return(temp)
}
nombres <- c("Mínimo",
"Primer cuartil",
"Mediana",
"Media",
"Tercer cuartil",
"Máximo",
"Desviación estándar",
"Rango intercuartil",
"Asimetría",
"Curtosis")
tabla <- medidas(close_amount)
rownames(tabla) <- nombres
tabla %>%
kbl(caption = "Medidas de resumen", col.names = F) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
a <- min(year(date_received))
b <- max(year(date_received))
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))+
scale_x_discrete(limits = c(a,b))
a <- min(year(date_received))
b <- max(year(date_received))
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))+
scale_x_continuous(limits = c(a,b))
base <- read_csv("tsa_claims.csv", ) %>%
na.omit() %>% # Se eliminan NA's
clean_names()  # Se pasan todos los nombres a minúculas
View(base)
base %<>% mutate_at(c('close_amount', 'claim_amount'),
funs(str_remove(., "\\$"))) %>%
mutate_at(c('close_amount', 'claim_amount'), funs(str_remove(., ";")))  %>%   mutate_at(c('close_amount', 'claim_amount'), funs(as.numeric(.))) %>% mutate(date_received = dmy(date_received))
library(readxl)
library(kableExtra)
library(readr)
library(dplyr)
library(janitor) # función clean_names()
library(magrittr) # función %<>%
library(stringr) # función str_replace
library(lubridate)
library(moments) # funciones skewness y kurtosis
library(ggplot2)
# Se carga la base
base <- read_csv("tsa_claims.csv", ) %>%
na.omit() %>% # Se eliminan NA's
clean_names()  # Se pasan todos los nombres a minúculas
# Se ajusta el formato de las variables numéricas de montos y de fecha
base %<>% mutate_at(c('close_amount', 'claim_amount'),
funs(str_remove(., "\\$"))) %>%
mutate_at(c('close_amount', 'claim_amount'), funs(str_remove(., ";")))  %>%   mutate_at(c('close_amount', 'claim_amount'), funs(as.numeric(.))) %>% mutate(date_received = dmy(date_received))
attach(base) # Se fijan las variables de la tabla
tabla <- read_excel("Archivos auxiliares/Ordenamiento de la literatura.xlsx")
tabla %>%
kbl(caption = "Ordenamiento de la literautra") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
rm(tabla)
medidas <- function(x){
r <- summary(x) %>% as.vector()
temp <- data.frame(c(r, sd(x), IQR(x),skewness(x), kurtosis(x)))
return(temp)
}
nombres <- c("Mínimo",
"Primer cuartil",
"Mediana",
"Media",
"Tercer cuartil",
"Máximo",
"Desviación estándar",
"Rango intercuartil",
"Asimetría",
"Curtosis")
tabla <- medidas(close_amount)
rownames(tabla) <- nombres
tabla %>%
kbl(caption = "Medidas de resumen", col.names = F) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
a <- min(year(date_received))
b <- max(year(date_received))
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))+
scale_x_continuous(limits = c(a,b))
View(base)
tabla <- read_excel("Archivos auxiliares/Ordenamiento de la literatura.xlsx")
#| output: false
#| warning: false
# Se carga la base
datos <- read_csv("tsa_claims.csv", ) %>% clean_names()  # Se pasan todos los nombres a minúculas
#| output: false
library(readxl)
library(kableExtra)
library(readr)
library(dplyr)
library(janitor) # función clean_names()
library(magrittr) # función %<>%
library(stringr) # función str_replace
library(lubridate)
library(moments) # funciones skewness y kurtosis
library(ggplot2)
library(actuar)
library(fitdistrplus)
library(stats)
#| output: false
#| warning: false
# Se carga la base
datos <- read_csv("tsa_claims.csv", ) %>% clean_names()  # Se pasan todos los nombres a minúculas
# Se ajusta el formato de las variables numéricas de montos y de fecha
datos %<>% mutate_at(c('close_amount', 'claim_amount'), funs(str_remove(., "\\$"))) %>%
mutate_at(c('close_amount', 'claim_amount'), funs(str_remove(., ";")))  %>%   mutate_at(c('close_amount', 'claim_amount'), funs(as.numeric(.))) %>% mutate(date_received = dmy(date_received))
attach(datos) # Se fijan las variables de la tabla
problems()
1+1
tabla <- read_excel("Archivos auxiliares/Ordenamiento de la literatura.xlsx")
tabla %>%
kbl(caption = "Ordenamiento de la literautra") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
rm(tabla)
medidas <- function(x){
r <- summary(x) %>% as.vector()
temp <- data.frame(c(r[-7], sd(x, na.rm=F), IQR(x, na.rm=T),skewness(x, na.rm=T), kurtosis(x, na.rm=T)))
return(temp)
}
nombres <- c("Mínimo",
"Primer cuartil",
"Mediana",
"Media",
"Tercer cuartil",
"Máximo",
"Desviación estándar",
"Rango intercuartil",
"Asimetría",
"Curtosis")
tabla <- medidas(close_amount)
rownames(tabla) <- nombres
tabla %>%
kbl(caption = "Medidas de resumen", col.names = F) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kbl(caption = "Medidas de resumen", col.names = FALSE) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
medidas <- function(x){
r <- summary(x) %>% as.vector()
temp <- data.frame(c(r[-7], sd(x, na.rm=F), IQR(x, na.rm=T),skewness(x, na.rm=T), kurtosis(x, na.rm=T)))
return(temp)
}
nombres <- c("Mínimo",
"Primer cuartil",
"Mediana",
"Media",
"Tercer cuartil",
"Máximo",
"Desviación estándar",
"Rango intercuartil",
"Asimetría",
"Curtosis")
tabla <- medidas(close_amount)
rownames(tabla) <- nombres
tabla %>%
kbl(caption = "Medidas de resumen", col.names = FALSE) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kbl(caption = "Medidas de resumen", col.names = NA) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kbl(caption = "Medidas de resumen", col.names = "") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kbl(caption = "Medidas de resumen") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kable(caption = "Medidas de resumen") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kable(caption = "Medidas de resumen", col.names = NULL) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kable(caption = "Medidas de resumen", col.names = F) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kable(caption = "Medidas de resumen", col_names = F) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kable(caption = "Medidas de resumen", col_names = NULL) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kable(caption = "Medidas de resumen", col.names = NULL) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%
kable(caption = "Medidas de resumen") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
colnames(tabla) <- NULL
tabla %>%
kable(caption = "Medidas de resumen") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla <- medidas(close_amount)
rownames(tabla) <- nombres
colnames(tabla) <- NULL
View(tabla)
tabla %>%
kable(caption = "Medidas de resumen") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla
tabla %>%  kbl(caption = "Medidas de resumen") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
colnames(tabla) <- ""
tabla %>%  kbl(caption = "Medidas de resumen") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%  kbl(caption = "Medidas de resumen") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
colnames(tabla) <- "Valor"
tabla %>%  kbl(caption = "Medidas de resumen") %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%  kbl(caption = "Medidas de resumen", digits = 4) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
tabla %>%  kbl(caption = "Medidas de resumen", digits = 2) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
medidas <- function(x){
r <- summary(x) %>% as.vector()
temp <- data.frame(c(r[-7], sd(x, na.rm=T), IQR(x, na.rm=T),skewness(x, na.rm=T), kurtosis(x, na.rm=T)))
return(temp)
}
nombres <- c("Mínimo",
"Primer cuartil",
"Mediana",
"Media",
"Tercer cuartil",
"Máximo",
"Desviación estándar",
"Rango intercuartil",
"Asimetría",
"Curtosis")
tabla <- medidas(close_amount)
rownames(tabla) <- nombres
colnames(tabla) <- "Valor"
tabla %>%  kbl(caption = "Medidas de resumen", digits = 2) %>%
kable_styling() %>%
kable_classic_2(full_width = T) %>%
row_spec(0, bold = T)
sd(c(1,2,3,NA), na.rm = T)
set.seed(3521)
x<-c(NA,rnorm(19,5,0.34))
df1<-data.frame(x)
sd(df1$x,na.rm=TRUE)
a <- min(year(date_received))
b <- max(year(date_received))
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))+
scale_x_continuous(limits = c(a,b))
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))+
scale_x_continuous(limits = c(a,b))
date_received
class(date_received)
ggplot(base, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))
df3 <- datos %>% group_by(year(date_received), month(date_received) ) %>%
summarise(s = mean(close_amount, na.rm = TRUE)) %>% na.omit()
df3 <- cbind(t=1:105, df3)
#| cap-location: top
#| fig-cap: "Número de reclamos mensuales del 2002 al 2015"
ggplot(df, aes( x=t, y = n)) + geom_point(color='red', size=2) +
xlab("Tiempo") + ylab("Reclamos")+
theme_minimal()
graficoAerolineasSeveridad <-  ggplot(data = dfAerolineasSeveridad, aes(x= airline_name, y= s , fill= airline_name ) ) + geom_bar(stat="identity") +  labs(y = 'Monto  promedio pagado ', x= "Aerolíneas") + guides(fill = guide_legend(title = "Aerolínea")) + ggtitle("Aerolíneas con mayor monto  promedio pagado ")
ggplot(datos, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..))
ggplot(datos, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..)) +
scale_x_continuous(limits = c(a,b))
a <- min(year(date_received))
b <- max(year(date_received))
b
a
a <- min(year(date_received))
b <- max(year(date_received))
year(date_received)
class(year(date_received))
a <- min(year(date_received))
a
a <- min(year(date_received))
b <- max(year(date_received))
ggplot(datos, aes(year(date_received))) +
stat_count(geom='bar', aes(y=..count..)) +
scale_x_continuous(limits = c(a,b))
min(year(date_received))
a <- min(year(date_received), na.rm = T)
a
b <- max(year(date_received), na.rm = T)
b
count(year(date_received))
year(date_received)
year(date_received) %>% count()
datos %>% count(year(date_received))
sd(c(1,2,3,NA), na.rm = T)
set.seed(3521)
x<-c(NA,rnorm(19,5,0.34))
df1<-data.frame(x)
sd(df1$x,na.rm=TRUE)
